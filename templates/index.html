<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Myra Learns Languages ğŸ¦•</title>
  <link rel="icon" type="image/svg+xml" href="/static/favicon.svg" />
  <link rel="stylesheet" href="/static/css/style.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Nunito:wght@400;700;900&display=swap" rel="stylesheet" />
</head>
<body>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• CONFETTI LAYER â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="confetti-container"></div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• HEADER â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<header>
  <div class="header-inner">
    <h1 id="child-name-title">ğŸ¦• {{ config.child_name }} Learns!</h1>
    <a href="/settings" class="settings-btn" title="Settings">âš™ï¸</a>
  </div>
</header>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• MAIN LAYOUT â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<main>

  <!-- â”€â”€ DINO COLUMN â”€â”€ -->
  <section class="dino-col">
    <div class="dino-wrapper" id="dino-wrapper">

      <!-- Speech bubble -->
      <div class="speech-bubble" id="speech-bubble">
        <span id="bubble-text">Hi! Let's learn words! ğŸŒŸ</span>
      </div>

      <!-- Pink Dino SVG -->
      <svg id="dino-svg" viewBox="0 0 380 430" xmlns="http://www.w3.org/2000/svg" aria-label="Pink Dino Stuffy mascot">

        <!-- â”€â”€ TAIL (grouped for tail-wag animation) â”€â”€ -->
        <g id="dino-tail">
          <path d="M 55,330 Q 10,360 8,310 Q 20,265 62,290 Z" fill="#FF69B4"/>
          <path d="M 55,330 Q 10,360 8,310 Q 20,265 62,290 Z" fill="#FFB6C1" opacity="0.4"/>
        </g>

        <!-- â”€â”€ BACK SPIKES â”€â”€ -->
        <polygon points="105,195 82,128 128,195" fill="#FF1493" opacity="0.85"/>
        <polygon points="138,172 120,98  162,172" fill="#FF1493" opacity="0.85"/>
        <polygon points="172,158 162,78  196,158" fill="#FF1493" opacity="0.85"/>
        <polygon points="206,155 200,72  228,155" fill="#FF1493" opacity="0.85"/>
        <polygon points="238,162 236,82  258,162" fill="#FF1493" opacity="0.85"/>

        <!-- â”€â”€ BODY â”€â”€ -->
        <ellipse cx="185" cy="300" rx="130" ry="115" fill="#FF69B4"/>

        <!-- â”€â”€ BELLY (lighter) â”€â”€ -->
        <ellipse cx="185" cy="315" rx="78" ry="82" fill="#FFB6C1"/>

        <!-- â”€â”€ BELLY DOTS â”€â”€ -->
        <circle cx="168" cy="295" r="10" fill="#FF69B4" opacity="0.4"/>
        <circle cx="195" cy="330" r="8"  fill="#FF69B4" opacity="0.4"/>
        <circle cx="160" cy="335" r="7"  fill="#FF69B4" opacity="0.4"/>

        <!-- â”€â”€ NECK â”€â”€ -->
        <path d="M 260,228 Q 295,195 315,168 Q 305,240 272,260 Z" fill="#FF69B4"/>

        <!-- â”€â”€ HEAD â”€â”€ -->
        <ellipse cx="318" cy="138" rx="62" ry="58" fill="#FF69B4"/>

        <!-- â”€â”€ CHEEK BLUSH â”€â”€ -->
        <ellipse cx="348" cy="155" rx="18" ry="10" fill="#FF1493" opacity="0.3"/>

        <!-- â”€â”€ EYE (white sclera) â”€â”€ -->
        <circle cx="335" cy="118" r="22" fill="white"/>
        <!-- â”€â”€ EYE (pupil) â”€â”€ -->
        <circle id="dino-pupil" cx="340" cy="119" r="13" fill="#3B0A6B"/>
        <!-- â”€â”€ EYE (shine) â”€â”€ -->
        <circle cx="346" cy="112" r="5" fill="white"/>
        <circle cx="334" cy="122" r="2.5" fill="white" opacity="0.6"/>

        <!-- â”€â”€ EYELASHES â”€â”€ -->
        <line x1="320" y1="99"  x2="323" y2="91"  stroke="#3B0A6B" stroke-width="2.5" stroke-linecap="round"/>
        <line x1="333" y1="95"  x2="334" y2="86"  stroke="#3B0A6B" stroke-width="2.5" stroke-linecap="round"/>
        <line x1="346" y1="96"  x2="350" y2="88"  stroke="#3B0A6B" stroke-width="2.5" stroke-linecap="round"/>
        <line x1="356" y1="102" x2="362" y2="95"  stroke="#3B0A6B" stroke-width="2.5" stroke-linecap="round"/>

        <!-- â”€â”€ NOSTRIL â”€â”€ -->
        <ellipse cx="366" cy="148" rx="6" ry="4" fill="#CC4488" opacity="0.7"/>

        <!-- â”€â”€ MOUTH CAVITY (dark inside; drawn first so teeth + lip sit on top) â”€â”€ -->
        <ellipse id="dino-mouth-inner" cx="353" cy="174" rx="21" ry="0" fill="#7B0040" style="display:none"/>

        <!-- â”€â”€ TOP TEETH â”€â”€ -->
        <g id="dino-teeth" style="display:none">
          <polygon points="337,165 341,173 345,165" fill="white"/>
          <polygon points="350,168 354,176 358,168" fill="white"/>
          <polygon points="363,165 367,173 371,165" fill="white"/>
        </g>

        <!-- â”€â”€ UPPER LIP (drawn last â†’ renders on top of cavity and teeth) â”€â”€ -->
        <path id="dino-mouth" d="M 330,162 Q 355,178 375,162" stroke="#CC4488" stroke-width="4" fill="none" stroke-linecap="round"/>

        <!-- â”€â”€ EYELID (for blink animation â€” drawn over eye) â”€â”€ -->
        <ellipse id="dino-eyelid" cx="335" cy="118" rx="22" ry="0" fill="#FF69B4"/>

        <!-- â”€â”€ LEFT ARM (slightly raised) â”€â”€ -->
        <ellipse cx="100" cy="295" rx="28" ry="45" fill="#FF69B4" transform="rotate(-15 100 295)"/>
        <!-- Paw -->
        <ellipse cx="85"  cy="335" rx="20" ry="16" fill="#FF1493" opacity="0.7"/>

        <!-- â”€â”€ RIGHT ARM (waving up) â”€â”€ -->
        <g id="dino-right-arm">
          <ellipse cx="270" cy="275" rx="22" ry="40" fill="#FF69B4" transform="rotate(25 270 275)"/>
          <!-- Paw -->
          <ellipse cx="285" cy="242" rx="18" ry="14" fill="#FF1493" opacity="0.7"/>
        </g>

        <!-- â”€â”€ LEFT LEG â”€â”€ -->
        <ellipse cx="138" cy="400" rx="38" ry="48" fill="#FF69B4"/>
        <!-- Left foot -->
        <ellipse cx="130" cy="440" rx="44" ry="18" fill="#FF1493" opacity="0.8"/>
        <!-- Left claws -->
        <line x1="112" y1="448" x2="108" y2="458" stroke="#CC4488" stroke-width="3" stroke-linecap="round"/>
        <line x1="128" y1="452" x2="126" y2="462" stroke="#CC4488" stroke-width="3" stroke-linecap="round"/>
        <line x1="144" y1="452" x2="144" y2="463" stroke="#CC4488" stroke-width="3" stroke-linecap="round"/>

        <!-- â”€â”€ RIGHT LEG â”€â”€ -->
        <ellipse cx="234" cy="400" rx="38" ry="48" fill="#FF69B4"/>
        <!-- Right foot -->
        <ellipse cx="244" cy="440" rx="44" ry="18" fill="#FF1493" opacity="0.8"/>
        <!-- Right claws -->
        <line x1="228" y1="452" x2="226" y2="462" stroke="#CC4488" stroke-width="3" stroke-linecap="round"/>
        <line x1="244" y1="452" x2="244" y2="463" stroke="#CC4488" stroke-width="3" stroke-linecap="round"/>
        <line x1="260" y1="448" x2="264" y2="458" stroke="#CC4488" stroke-width="3" stroke-linecap="round"/>

        <!-- â”€â”€ STARS decoration â”€â”€ -->
        <text x="30"  y="60"  font-size="22" opacity="0.5">â­</text>
        <text x="340" y="35"  font-size="18" opacity="0.4">âœ¨</text>
        <text x="10"  y="160" font-size="16" opacity="0.4">ğŸ’«</text>

      </svg>
      <!-- end dino SVG -->
    </div><!-- end dino-wrapper -->
  </section>

  <!-- â”€â”€ LESSON COLUMN â”€â”€ -->
  <section class="lesson-col">

    <!-- Language badge -->
    <div class="lang-badge" id="lang-badge">Telugu ğŸŒŸ</div>

    <!-- Word card -->
    <div class="word-card" id="word-card">

      <div class="word-emoji" id="word-emoji">ğŸŒŸ</div>

      <div class="word-english" id="word-english">Loadingâ€¦</div>

      <div class="word-arrow">âœ</div>

      <div class="word-translation" id="word-translation">â€¦</div>

      <div class="word-romanized" id="word-romanized"></div>

    </div><!-- end word-card -->

    <!-- Feedback banner -->
    <div class="feedback-banner hidden" id="feedback-banner">
      <span id="feedback-text"></span>
    </div>

    <!-- Attempt dots -->
    <div class="attempt-dots" id="attempt-dots">
      <span class="dot" id="dot-1"></span>
      <span class="dot" id="dot-2"></span>
      <span class="dot" id="dot-3"></span>
    </div>

    <!-- Action buttons -->
    <div class="btn-row">

      <button class="btn btn-play" id="btn-play" title="Hear the word" onclick="playWord()">
        ğŸ”Š Hear It!
      </button>

      <button class="btn btn-record" id="btn-record" onclick="playPromptThenRecord()">
        ğŸ¤ Say It!
      </button>

      <button class="btn btn-skip" id="btn-skip" onclick="nextWord()" title="Skip to next word">
        â­ Skip
      </button>

      <button class="btn btn-stop" id="btn-stop" onclick="stopFlow()" title="Pause flow, stay on current word">
        â¸ Pause
      </button>

    </div>

    <!-- Recording indicator -->
    <div class="recording-indicator hidden" id="recording-indicator">
      <span class="rec-dot"></span>
      <span>Listeningâ€¦ <span id="rec-timer">5</span>s</span>
    </div>

    <!-- Debug panel (always visible while debugging) -->
    <div id="debug-panel" class="debug-panel hidden">
      <div id="debug-heard"></div>
      <div id="debug-sim"></div>
      <div id="debug-error"></div>
    </div>

    <!-- Score display -->
    <div class="score-row">
      <span>â­ Score: <strong id="score-display">0</strong></span>
      <span>ğŸ“š Words: <strong id="words-display">0</strong></span>
    </div>

    <!-- Streak display (hidden until 3+ in a row) -->
    <div id="streak-display" class="streak-display" hidden aria-live="polite">
      <span id="streak-count">0</span> in a row! ğŸ”¥
    </div>

  </section><!-- end lesson-col -->

</main>

<script src="/static/js/app.js"></script>
</body>
</html>
